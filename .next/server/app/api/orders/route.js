"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orders/route";
exports.ids = ["app/api/orders/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.js&appDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.js&appDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ismaeel_Shaikh_Downloads_um_entreprise_app_api_orders_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/orders/route.js */ \"(rsc)/./app/api/orders/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orders/route\",\n        pathname: \"/api/orders\",\n        filename: \"route\",\n        bundlePath: \"app/api/orders/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ismaeel Shaikh\\\\Downloads\\\\um-entreprise\\\\app\\\\api\\\\orders\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ismaeel_Shaikh_Downloads_um_entreprise_app_api_orders_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orders/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yZGVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yZGVycyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNJc21hZWVsJTIwU2hhaWtoJTVDRG93bmxvYWRzJTVDdW0tZW50cmVwcmlzZSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSXNtYWVlbCUyMFNoYWlraCU1Q0Rvd25sb2FkcyU1Q3VtLWVudHJlcHJpc2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW0tZW50cmVwcmlzZS8/MGYxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxJc21hZWVsIFNoYWlraFxcXFxEb3dubG9hZHNcXFxcdW0tZW50cmVwcmlzZVxcXFxhcHBcXFxcYXBpXFxcXG9yZGVyc1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb3JkZXJzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvb3JkZXJzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9vcmRlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxJc21hZWVsIFNoYWlraFxcXFxEb3dubG9hZHNcXFxcdW0tZW50cmVwcmlzZVxcXFxhcHBcXFxcYXBpXFxcXG9yZGVyc1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvb3JkZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.js&appDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/orders/route.js":
/*!*********************************!*\
  !*** ./app/api/orders/route.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var _lib_models_Order__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/models/Order */ \"(rsc)/./lib/models/Order.js\");\n\n\n\n// POST: create new order\nasync function POST(request) {\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const body = await request.json();\n    const order = await _lib_models_Order__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(body);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(order);\n}\n// GET: get all orders for a user\nasync function GET(request) {\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const userId = request.nextUrl.searchParams.get(\"user\");\n    if (!userId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            orders: []\n        });\n    }\n    const orders = await _lib_models_Order__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n        user: userId\n    }).sort({\n        createdAt: -1\n    });\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        orders\n    });\n}\n// PATCH: cancel order\nasync function PATCH(request) {\n    await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    const { orderId, userId, reason } = await request.json();\n    const idValue = typeof orderId === \"object\" && orderId.$oid ? orderId.$oid : orderId;\n    const updated = await _lib_models_Order__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOneAndUpdate({\n        _id: idValue,\n        user: userId,\n        status: {\n            $in: [\n                \"cod\",\n                \"paid\"\n            ]\n        }\n    }, {\n        status: \"cancelled\",\n        cancelReason: reason\n    }, {\n        new: true\n    });\n    if (!updated) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Order not found or cannot cancel\"\n        }, {\n            status: 400\n        });\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        order: updated\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL29yZGVycy9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDVjtBQUNNO0FBRXZDLHlCQUF5QjtBQUNsQixlQUFlRyxLQUFLQyxPQUFPO0lBQ2hDLE1BQU1ILG1EQUFTQTtJQUNmLE1BQU1JLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtJQUMvQixNQUFNQyxRQUFRLE1BQU1MLHlEQUFLQSxDQUFDTSxNQUFNLENBQUNIO0lBQ2pDLE9BQU9MLHFEQUFZQSxDQUFDTSxJQUFJLENBQUNDO0FBQzNCO0FBRUEsaUNBQWlDO0FBQzFCLGVBQWVFLElBQUlMLE9BQU87SUFDL0IsTUFBTUgsbURBQVNBO0lBQ2YsTUFBTVMsU0FBU04sUUFBUU8sT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUNoRCxJQUFJLENBQUNILFFBQVE7UUFDWCxPQUFPVixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1lBQUVRLFFBQVEsRUFBRTtRQUFDO0lBQ3hDO0lBQ0EsTUFBTUEsU0FBUyxNQUFNWix5REFBS0EsQ0FBQ2EsSUFBSSxDQUFDO1FBQUVDLE1BQU1OO0lBQU8sR0FBR08sSUFBSSxDQUFDO1FBQUVDLFdBQVcsQ0FBQztJQUFFO0lBQ3ZFLE9BQU9sQixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1FBQUVRO0lBQU87QUFDcEM7QUFFQSxzQkFBc0I7QUFDZixlQUFlSyxNQUFNZixPQUFPO0lBQ2pDLE1BQU1ILG1EQUFTQTtJQUNmLE1BQU0sRUFBRW1CLE9BQU8sRUFBRVYsTUFBTSxFQUFFVyxNQUFNLEVBQUUsR0FBRyxNQUFNakIsUUFBUUUsSUFBSTtJQUN0RCxNQUFNZ0IsVUFBVSxPQUFPRixZQUFZLFlBQVlBLFFBQVFHLElBQUksR0FBR0gsUUFBUUcsSUFBSSxHQUFHSDtJQUM3RSxNQUFNSSxVQUFVLE1BQU10Qix5REFBS0EsQ0FBQ3VCLGdCQUFnQixDQUMxQztRQUFFQyxLQUFLSjtRQUFTTixNQUFNTjtRQUFRaUIsUUFBUTtZQUFFQyxLQUFLO2dCQUFDO2dCQUFPO2FBQU87UUFBQztJQUFFLEdBQy9EO1FBQUVELFFBQVE7UUFBYUUsY0FBY1I7SUFBTyxHQUM1QztRQUFFUyxLQUFLO0lBQUs7SUFFZCxJQUFJLENBQUNOLFNBQVM7UUFDWixPQUFPeEIscURBQVlBLENBQUNNLElBQUksQ0FBQztZQUFFeUIsT0FBTztRQUFtQyxHQUFHO1lBQUVKLFFBQVE7UUFBSTtJQUN4RjtJQUNBLE9BQU8zQixxREFBWUEsQ0FBQ00sSUFBSSxDQUFDO1FBQUUwQixTQUFTO1FBQU16QixPQUFPaUI7SUFBUTtBQUMzRCIsInNvdXJjZXMiOlsid2VicGFjazovL3VtLWVudHJlcHJpc2UvLi9hcHAvYXBpL29yZGVycy9yb3V0ZS5qcz9hNzFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IGNvbm5lY3REQiBmcm9tICdAL2xpYi9kYic7XHJcbmltcG9ydCBPcmRlciBmcm9tICdAL2xpYi9tb2RlbHMvT3JkZXInO1xyXG5cclxuLy8gUE9TVDogY3JlYXRlIG5ldyBvcmRlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XHJcbiAgYXdhaXQgY29ubmVjdERCKCk7XHJcbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuY3JlYXRlKGJvZHkpO1xyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihvcmRlcik7XHJcbn1cclxuXHJcbi8vIEdFVDogZ2V0IGFsbCBvcmRlcnMgZm9yIGEgdXNlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICBhd2FpdCBjb25uZWN0REIoKTtcclxuICBjb25zdCB1c2VySWQgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgndXNlcicpO1xyXG4gIGlmICghdXNlcklkKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvcmRlcnM6IFtdIH0pO1xyXG4gIH1cclxuICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHsgdXNlcjogdXNlcklkIH0pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9yZGVycyB9KTtcclxufVxyXG5cclxuLy8gUEFUQ0g6IGNhbmNlbCBvcmRlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0gocmVxdWVzdCkge1xyXG4gIGF3YWl0IGNvbm5lY3REQigpO1xyXG4gIGNvbnN0IHsgb3JkZXJJZCwgdXNlcklkLCByZWFzb24gfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gIGNvbnN0IGlkVmFsdWUgPSB0eXBlb2Ygb3JkZXJJZCA9PT0gXCJvYmplY3RcIiAmJiBvcmRlcklkLiRvaWQgPyBvcmRlcklkLiRvaWQgOiBvcmRlcklkO1xyXG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBPcmRlci5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgeyBfaWQ6IGlkVmFsdWUsIHVzZXI6IHVzZXJJZCwgc3RhdHVzOiB7ICRpbjogWydjb2QnLCAncGFpZCddIH0gfSxcclxuICAgIHsgc3RhdHVzOiAnY2FuY2VsbGVkJywgY2FuY2VsUmVhc29uOiByZWFzb24gfSxcclxuICAgIHsgbmV3OiB0cnVlIH1cclxuICApO1xyXG4gIGlmICghdXBkYXRlZCkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdPcmRlciBub3QgZm91bmQgb3IgY2Fubm90IGNhbmNlbCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICB9XHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgb3JkZXI6IHVwZGF0ZWQgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNvbm5lY3REQiIsIk9yZGVyIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsIm9yZGVyIiwiY3JlYXRlIiwiR0VUIiwidXNlcklkIiwibmV4dFVybCIsInNlYXJjaFBhcmFtcyIsImdldCIsIm9yZGVycyIsImZpbmQiLCJ1c2VyIiwic29ydCIsImNyZWF0ZWRBdCIsIlBBVENIIiwib3JkZXJJZCIsInJlYXNvbiIsImlkVmFsdWUiLCIkb2lkIiwidXBkYXRlZCIsImZpbmRPbmVBbmRVcGRhdGUiLCJfaWQiLCJzdGF0dXMiLCIkaW4iLCJjYW5jZWxSZWFzb24iLCJuZXciLCJlcnJvciIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/orders/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\r\n * Global cache for MongoDB connection to prevent multiple connections\r\n * in serverless environments (Vercel)\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\n/**\r\n * Connect to MongoDB Atlas\r\n * @returns {Promise<typeof mongoose>} Mongoose connection instance\r\n */ async function connectDB() {\n    // Return cached connection if available\n    if (cached.conn) {\n        return cached.conn;\n    }\n    // Create new connection if promise doesn't exist\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false,\n            maxPoolSize: 10\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URI, opts).then((mongoose)=>{\n            console.log(\"✅ MongoDB connected successfully\");\n            return mongoose;\n        }).catch((error)=>{\n            console.error(\"❌ MongoDB connection error:\", error);\n            throw error;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDOzs7Q0FHQyxHQUNELElBQUlDLFNBQVNDLE9BQU9GLFFBQVE7QUFFNUIsSUFBSSxDQUFDQyxRQUFRO0lBQ1hBLFNBQVNDLE9BQU9GLFFBQVEsR0FBRztRQUFFRyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUN6RDtBQUVBOzs7Q0FHQyxHQUNELGVBQWVDO0lBQ2Isd0NBQXdDO0lBQ3hDLElBQUlKLE9BQU9FLElBQUksRUFBRTtRQUNmLE9BQU9GLE9BQU9FLElBQUk7SUFDcEI7SUFFQSxpREFBaUQ7SUFDakQsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLGFBQWE7UUFDZjtRQUVBUCxPQUFPRyxPQUFPLEdBQUdKLHVEQUFnQixDQUFDVSxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRU4sTUFDeERPLElBQUksQ0FBQyxDQUFDYjtZQUNMYyxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPZjtRQUNULEdBQ0NnQixLQUFLLENBQUMsQ0FBQ0M7WUFDTkgsUUFBUUcsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0MsTUFBTUE7UUFDUjtJQUNKO0lBRUEsSUFBSTtRQUNGaEIsT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPYyxHQUFHO1FBQ1ZqQixPQUFPRyxPQUFPLEdBQUc7UUFDakIsTUFBTWM7SUFDUjtJQUVBLE9BQU9qQixPQUFPRSxJQUFJO0FBQ3BCO0FBRUEsaUVBQWVFLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bS1lbnRyZXByaXNlLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgY2FjaGUgZm9yIE1vbmdvREIgY29ubmVjdGlvbiB0byBwcmV2ZW50IG11bHRpcGxlIGNvbm5lY3Rpb25zXHJcbiAqIGluIHNlcnZlcmxlc3MgZW52aXJvbm1lbnRzIChWZXJjZWwpXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbm5lY3QgdG8gTW9uZ29EQiBBdGxhc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+fSBNb25nb29zZSBjb25uZWN0aW9uIGluc3RhbmNlXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjb25uZWN0REIoKSB7XHJcbiAgLy8gUmV0dXJuIGNhY2hlZCBjb25uZWN0aW9uIGlmIGF2YWlsYWJsZVxyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIG5ldyBjb25uZWN0aW9uIGlmIHByb21pc2UgZG9lc24ndCBleGlzdFxyXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgICAgbWF4UG9vbFNpemU6IDEwLFxyXG4gICAgfTtcclxuXHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkksIG9wdHMpXHJcbiAgICAgIC50aGVuKChtb25nb29zZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgTW9uZ29EQiBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE1vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYWNoZWQuY29ubjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3REQiIsIm9wdHMiLCJidWZmZXJDb21tYW5kcyIsIm1heFBvb2xTaXplIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/models/Order.js":
/*!*****************************!*\
  !*** ./lib/models/Order.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst OrderSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    paymentId: String,\n    orderId: String,\n    user: String,\n    status: {\n        type: String,\n        default: \"pending\"\n    },\n    items: [\n        {\n            productId: String,\n            name: String,\n            image: String,\n            quantity: Number,\n            price: Number,\n            customization: Object\n        }\n    ],\n    address: String,\n    amount: Number,\n    cancelReason: String,\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Order || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Order\", OrderSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9kZWxzL09yZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjLElBQUlELHdEQUFlLENBQUM7SUFDdENHLFdBQVdDO0lBQ1hDLFNBQVNEO0lBQ1RFLE1BQU1GO0lBQ05HLFFBQVE7UUFBRUMsTUFBTUo7UUFBUUssU0FBUztJQUFVO0lBQzNDQyxPQUFPO1FBQUM7WUFDTkMsV0FBV1A7WUFDWFEsTUFBTVI7WUFDTlMsT0FBT1Q7WUFDUFUsVUFBVUM7WUFDVkMsT0FBT0Q7WUFDUEUsZUFBZUM7UUFDakI7S0FBRTtJQUNGQyxTQUFTZjtJQUNUZ0IsUUFBUUw7SUFDUk0sY0FBY2pCO0lBQ2RrQixXQUFXO1FBQUVkLE1BQU1lO1FBQU1kLFNBQVNjLEtBQUtDLEdBQUc7SUFBQztBQUM3QztBQUVBLGlFQUFleEIsd0RBQWUsQ0FBQzBCLEtBQUssSUFBSTFCLHFEQUFjLENBQUMsU0FBU0MsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3VtLWVudHJlcHJpc2UvLi9saWIvbW9kZWxzL09yZGVyLmpzPzk1ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgcGF5bWVudElkOiBTdHJpbmcsXHJcbiAgb3JkZXJJZDogU3RyaW5nLFxyXG4gIHVzZXI6IFN0cmluZywgLy8gT3IgbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCBpZiB5b3UgdXNlIHJlZnNcclxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAncGVuZGluZycgfSxcclxuICBpdGVtczogW3tcclxuICAgIHByb2R1Y3RJZDogU3RyaW5nLFxyXG4gICAgbmFtZTogU3RyaW5nLFxyXG4gICAgaW1hZ2U6IFN0cmluZyxcclxuICAgIHF1YW50aXR5OiBOdW1iZXIsXHJcbiAgICBwcmljZTogTnVtYmVyLFxyXG4gICAgY3VzdG9taXphdGlvbjogT2JqZWN0XHJcbiAgfV0sXHJcbiAgYWRkcmVzczogU3RyaW5nLFxyXG4gIGFtb3VudDogTnVtYmVyLFxyXG4gIGNhbmNlbFJlYXNvbjogU3RyaW5nLCAvLyA8LS0gQURERUQgRk9SIENBTkNFTExBVElPTiBSRUFTT05cclxuICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5PcmRlciB8fCBtb25nb29zZS5tb2RlbCgnT3JkZXInLCBPcmRlclNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk9yZGVyU2NoZW1hIiwiU2NoZW1hIiwicGF5bWVudElkIiwiU3RyaW5nIiwib3JkZXJJZCIsInVzZXIiLCJzdGF0dXMiLCJ0eXBlIiwiZGVmYXVsdCIsIml0ZW1zIiwicHJvZHVjdElkIiwibmFtZSIsImltYWdlIiwicXVhbnRpdHkiLCJOdW1iZXIiLCJwcmljZSIsImN1c3RvbWl6YXRpb24iLCJPYmplY3QiLCJhZGRyZXNzIiwiYW1vdW50IiwiY2FuY2VsUmVhc29uIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsIm1vZGVscyIsIk9yZGVyIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/models/Order.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.js&appDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CIsmaeel%20Shaikh%5CDownloads%5Cum-entreprise&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();